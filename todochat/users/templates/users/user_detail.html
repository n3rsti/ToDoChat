{% extends "base.html" %}
{% load static %}
{% block content %}
{% include "app_base.html" %}

<main class="content content--profile">
    <button  onClick="window.history.back();return false;" class="back__button">
        <i class="fas fa-angle-left"></i>
   </button>
    <img src="{{ object.profile.image.url }}" alt="{{ object.username }} profile image" class="profile__img {% if object.profile.is_online %}online{% else %}offline{% endif %}">
    {% if not object == user %}
    {% if object in user.profile.friends.all %}
    <div class="friend__info">
        <button class="invite__button friends"><i class="fas fa-check"></i>Friends <i class="fas fa-angle-down"></i></button>
        <form method="POST">
            {% csrf_token %}
            <input type="hidden" name="removed" value="{{ object.username }}">
            <button type="submit" name="button" value="remove" class="invite__button remove">Remove friend</button>
        </form>
        
    </div>
    

    {% else %}
    <form method="POST" class="user_detail_form">
        {% csrf_token %}
        <input type="hidden" name="invited" value="{{ object.username }}">
        <button class="invite__button" name="button" value="invite"> <i class="fas fa-user-plus"></i>Add</button>
    </form>
    {% endif %}
    {% endif %}
    <h1 class="title--thin">{{ object.username }}</h1>
    {% if object.profile.description %}
    <p class="profile__description">{{ object.profile.description }}</p>
    {% endif %}
    <span class="profile__description">Account created:</span>
    <h3 class="profile__content">{{ object.date_joined|date:"d F Y"}}</h3>
    <span class="profile__description">E-mail:</span>
    <h3 class="profile__content">{{ object.email }}</h3>
    {% if object == user %}
    <a href="{% url 'profile_edit' %}" class="edit__button" title="Edit profile">
        <i class="fas fa-pen"></i>
    </a>
    {% endif %}
</main>
{% endblock content %}